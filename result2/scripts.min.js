var t;!function(t){var n=function(){function t(){var n=this;this.$document=$(document),this.$window=$(window),this.sections=this.initializeSections(),this.$document.on("scroll",function(){return n.handleScroll()}),this.$document.on("click",'header a[href^="#"]',function(t){return n.handleMenuItemClick(t)}),this.$document.scroll()}return t.prototype.createSection=function(t){var n=$(t);return{$element:n,$menuItem:$("a[href='#"+t.id+"']"),position:n.position().top}},t.prototype.getCurrentSection=function(e){var n=this;return Object.keys(this.sections).map(function(t){return n.sections[t]}).reduce(function(t,n){return 0<=e-n.position&&(void 0===t||n.position>t.position)?n:t},void 0)},t.prototype.initializeSections=function(){var e=this,i={};return $("section[id]").each(function(t,n){i["#"+n.id]=e.createSection(n)}),i},t.prototype.updateSections=function(t){t!==this.currentSection&&(void 0!==this.currentSection&&this.currentSection.$menuItem.removeClass("current"),void 0!==t&&t.$menuItem.addClass("current"),this.currentSection=t)},t.prototype.handleMenuItemClick=function(t){var n=this;t.preventDefault();var e=$(t.target).attr("href"),i=this.sections[e];if(void 0!==i){this.$document.off("scroll"),this.updateSections(i);var o={scrollTop:i.position};$("html, body").animate(o,500,function(){i.$menuItem.blur(),n.$document.on("scroll",function(){return n.handleScroll()})})}},t.prototype.handleScroll=function(){var t=this.$window.scrollTop(),n=this.getCurrentSection(t);this.updateSections(n)},t}();$(function(){return new n})}(t||(t={}));